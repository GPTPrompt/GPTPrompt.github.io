---
title: "系统地测试变更"
description: "系统地测试变更"
---
import { Tabs } from 'nextra/components'

如果能够测量性能，改进就会变得更加容易。在某些情况下，对提示的修改可能会在一些孤立的示例上实现更好的性能，但在更具代表性的示例集上导致性能更差。因此，为了确保变更对性能的影响是积极的，可能需要定义一个全面的测试套件（也称为“评估”）。

## 策略：参考黄金标准答案评估模型输出

假设已知问题的正确答案应参考一组特定的已知事实。 然后我们可以使用模型查询来计算答案中包含多少必需的事实。

例如，使用以下系统消息：

<Tabs items={['系统']}>
  <Tabs.Tab>
  您将获得由三引号分隔的文本，该文本应该是问题的答案。 检查答案中是否直接包含以下信息：

    - 尼尔·阿姆斯特朗是第一个登上月球的人。
    - 尼尔·阿姆斯特朗首次登上月球的日期是 1969 年 7 月 21 日。

    对于其中的每一点，请执行以下步骤：

    1. 重申这一点。
    2. 提供最接近这一点的答案的引文。
    3. 考虑不知道主题的阅读引文的人是否可以直接推断出该点。 在做出决定之前解释一下原因或原因。
    4. 如果 3 的答案是“是”，则写“是”，否则写“否”。

    最后，计算有多少个“是”答案。 将此计数提供为 {`{"count": <在此处插入计数>}`}。
  </Tabs.Tab>
</Tabs>

这是一个满足这两点的示例输入：

<Tabs items={['系统','用户']}>
  <Tabs.Tab>
    {`<在上面插入系统消息>`}
  </Tabs.Tab>
  <Tabs.Tab>
    """尼尔·阿姆斯特朗因成为第一个踏上月球的人类而闻名。这一历史性事件发生在 1969 年 7 月 21 日，阿波罗 11 号任务期间。"""
  </Tabs.Tab>
</Tabs>

以下是仅满足一个点的示例输入：

<Tabs items={['系统','用户']}>
  <Tabs.Tab>
    {`<在上面插入系统消息>`}
  </Tabs.Tab>
  <Tabs.Tab>
    """尼尔·阿姆斯特朗走下登月舱时创造了历史，成为第一个在月球上行走的人。"""
  </Tabs.Tab>
</Tabs>

这是一个不满足任何条件的示例输入：

<Tabs items={['系统','用户']}>
  <Tabs.Tab>
    {`<在上面插入系统消息>`}
  </Tabs.Tab>
  <Tabs.Tab>
    """69年的夏天，一场盛大的远航，阿波罗 11 号，大胆如传奇之手。阿姆斯特朗迈出一步，历史展开，他说：“迈出一小步，迈向新世界。"""
  </Tabs.Tab>
</Tabs>

这种基于模型的评估有许多可能的变体。 考虑以下变体，它跟踪候选答案和黄金标准答案之间的重叠类型，并且还跟踪候选答案是否与黄金标准答案的任何部分相矛盾。

<Tabs items={['系统']}>
  <Tabs.Tab>
    使用以下步骤响应用户输入。 在继续之前充分重申每个步骤。 即“第 1 步：原因...”。

    第 1 步：逐步推理所提交答案中的信息与专家答案相比是否是：不相交、相等、子集、超集或重叠（即有交集，但不是子集/超集）。

    第2步：逐步推理提交的答案是否与专家答案的任何方面相矛盾。

    步骤 3：输出一个 JSON 对象，结构如下：
    {`{"type_of_overlap": "disjoint" or "equal" or "subset" or "superset" or "overlapping", "contradiction": true or false}`}
  </Tabs.Tab>
</Tabs>


这是一个示例输入，其答案不合格，但与专家答案并不矛盾：

<Tabs items={['系统','用户']}>
  <Tabs.Tab>
    {`<在上面插入系统消息>`}
  </Tabs.Tab>
  <Tabs.Tab>
    问题："""尼尔·阿姆斯特朗最著名的事件是什么以及它发生的日期？假设 UTC 时间。"""

    提交的答案："""他没有在月球上行走过吗？"""

    专家解答："""尼尔·阿姆斯特朗最著名的是第一个登上月球的人。这一历史性事件发生在1969年7月21日。"""
  </Tabs.Tab>
</Tabs>


这是一个示例输入，其答案与专家答案直接矛盾：

<Tabs items={['系统','用户']}>
  <Tabs.Tab>
    {`<在上面插入系统消息>`}
  </Tabs.Tab>
  <Tabs.Tab>
    问题："""尼尔·阿姆斯特朗最著名的事件是什么以及它发生的日期？假设 UTC 时间。"""

    提交的答案："""1969 年 7 月 21 日，尼尔·阿姆斯特朗成为继巴兹·奥尔德林之后第二个登上月球的人。"""

    专家解答："""尼尔·阿姆斯特朗最著名的是第一个登上月球的人。这一历史性事件发生在1969年7月21日。"""
  </Tabs.Tab>
</Tabs>

下面是一个带有正确答案的示例输入，它还提供了比必要的更多的细节：

<Tabs items={['系统','用户']}>
  <Tabs.Tab>
    {`<在上面插入系统消息>`}
  </Tabs.Tab>
  <Tabs.Tab>
    问题："""尼尔·阿姆斯特朗最著名的事件是什么以及它发生的日期？假设 UTC 时间。"""

    提交的答案："""世界标准时间 1969 年 7 月 21 日大约 02:56，尼尔·阿姆斯特朗成为第一个踏上月球表面的人类，标志着人类历史上的一项里程碑式的成就。"""

    专家解答："""尼尔·阿姆斯特朗最著名的是第一个登上月球的人。这一历史性事件发生在1969年7月21日。"""
  </Tabs.Tab>
</Tabs>




